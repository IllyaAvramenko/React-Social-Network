{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/images/userPhoto.png","components/Users/Users.module.scss","components/common/Paginator/Paginator.module.scss","components/Users/User/User.module.scss","components/common/Paginator/Paginator.js","components/Users/User/User.js","components/Users/Users.js","redux/usersSelectors.js","components/Users/UsersContainer.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","paginator","btn","onClick","filter","p","map","selectedPage","page","User","user","followingInProgress","unFollow","follow","isDisabled","userId","some","id","userWrapper","userInfo","userAvatar","to","usersPhoto","src","photos","small","userPhoto","alt","userData","name","status","userFollow","followed","userButton","disabled","userLine","Users","users","usersPagination","usersContent","getUsers","state","usersPage","getPageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","props","requestUsers","this","Preloader","Component","compose","connect","isAuth","auth"],"mappings":"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","file":"static/js/4.39e93bc7.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default __webpack_public_path__ + \"static/media/userPhoto.419fc313.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__1ueFE\",\"users\":\"Users_users__2z39T\",\"usersPagination\":\"Users_usersPagination__2EQjA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1x99C\",\"selectedPage\":\"Paginator_selectedPage__3mbjm\",\"page\":\"Paginator_page__3wMol\",\"btn\":\"Paginator_btn__vuXdU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"User_usersPhoto__ozzWg\",\"user\":\"User_user__2gX8o\",\"userWrapper\":\"User_userWrapper__2W2bM\",\"userInfo\":\"User_userInfo__2VSd4\",\"userAvatar\":\"User_userAvatar__1-5Rx\",\"userFollow\":\"User_userFollow__2DXYF\",\"userButton\":\"User_userButton__1OFA2\",\"userLine\":\"User_userLine__3Dsqb\"};","import React, { useState } from 'react';\r\nimport s from './Paginator.module.scss';\r\n// import cn from 'classnames';\r\n\r\nconst Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => { \r\n\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n \r\n    const pages = [];   \r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {\r\n                portionNumber > 1 && <button className={s.btn} onClick={ () => {setPortionNumber(portionNumber - 1)} } >Prev</button>\r\n            }\r\n            {\r\n                pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                        return <span key={p} className={  currentPage === p ? s.selectedPage : s.page }\r\n                            onClick={ () => { onPageChanged(p) } }>{p}</span>\r\n                    })\r\n            }\r\n            {\r\n                (portionCount > portionNumber)  && \r\n                    <button className={s.btn} onClick={ () => {setPortionNumber(portionNumber + 1)} } >Next</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport s from './User.module.scss';\r\nimport userPhoto from '../../../assets/images/userPhoto.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({ user, followingInProgress, unFollow, follow }) => { \r\n    \r\n    const isDisabled = (userId) => {\r\n        followingInProgress.some(id => id === userId);\r\n\r\n        return followingInProgress.some(id => id !== userId);\r\n    };\r\n\r\n    return ( \r\n        <div className={s.user}>\r\n\r\n            <div className={s.userWrapper}>\r\n                <div className={s.userInfo}>\r\n\r\n                    <div className={s.userAvatar}>\r\n                        <NavLink to={`/profile/${user.id}`}>\r\n                                <img className={s.usersPhoto} src={user.photos.small != null ? user.photos.small : userPhoto } alt={`user avatar`}/>\r\n                        </NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.userData}>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className={s.userFollow}>\r\n                    { user.followed\r\n                        ? <button className={s.userButton} disabled={ isDisabled(user.id) }\r\n                                onClick={ () => { unFollow(user.id) } } \r\n                                >UnFollow</button>\r\n                        : <button className={s.userButton} disabled={ isDisabled(user.id) }\r\n                                onClick={ () => { follow(user.id) } } \r\n                                >Follow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.userLine}></div>\r\n\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport s from './Users.module.scss';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User/User';\r\n\r\nconst Users = ({ totalItemsCount, pageSize, currentPage, onPageChanged, followingInProgress, users, unFollow, follow }) => { \r\n    \r\n    return (<div className={s.users}> \r\n        <div className={s.usersPagination}>\r\n            <Paginator totalItemsCount={totalItemsCount} pageSize={pageSize} \r\n                    currentPage={currentPage} onPageChanged={onPageChanged} />\r\n        </div>\r\n\r\n        <div className={s.usersContent}>\r\n            {users.map(user => <User user={user} key={user.id}\r\n                                unFollow={unFollow} follow={follow} \r\n                                followingInProgress={followingInProgress} />)}\r\n        </div>\r\n    </div>)\r\n\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n   return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n   return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n   return state.usersPage.totalUsersCount;\r\n};\r\n\r\n\r\nexport const getCurrentPage = (state) => {\r\n   return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n   return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n   return state.usersPage.followingInProgress;\r\n};","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { requestUsers, follow, unFollow } from '../../redux/usersReducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n// import withAuthRedirect from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from '../../redux/usersSelectors';\r\n\r\n\r\nclass UsersContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        const { currentPage, pageSize } = this.props;\r\n        \r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const { pageSize } = this.props;\r\n\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }    \r\n\r\n    render() {\r\n        return <>\r\n            { this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalItemsCount={this.props.totalItemsCount}\r\n                        pageSize={this.props.pageSize}\r\n                        currentPage={this.props.currentPage}\r\n                        users={this.props.users}\r\n                        onPageChanged={this.onPageChanged}\r\n                        follow={this.props.follow}\r\n                        unFollow={this.props.unFollow}\r\n                        followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n       users: getUsers(state),\r\n       pageSize: getPageSize(state),\r\n       totalItemsCount: getTotalUsersCount(state),\r\n       currentPage: getCurrentPage(state),\r\n       isFetching: getIsFetching(state),\r\n       followingInProgress: getFollowingInProgress(state),\r\n       isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { requestUsers, follow, unFollow })\r\n)\r\n(UsersContainer); \r\n\r\n\r\n\r\n\r\n\r\n// const withRedirect = withAuthRedirect(UsersContainer);\r\n\r\n// export default connect(mapStateToProps, \r\n//     { getUsers, follow, unFollow}\r\n//     )(withRedirect);\r\n\r\n\r\n// const mapStateToProps = (state) => {\r\n    \r\n//     const {users, pageSize, totalUsersCount, currentPage, isFetching, followingInProgress} = state.usersPage;\r\n\r\n//     return {\r\n//        users,\r\n//        pageSize,\r\n//        totalUsersCount,\r\n//        currentPage,\r\n//        isFetching,\r\n//        followingInProgress,\r\n//        isAuth: state.auth.isAuth\r\n//     }\r\n// };\r\n\r\n//  const mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userId) => {\r\n//             dispatch(followAC(userId))\r\n//         },\r\n//         unFollow: (userId) => {\r\n//             dispatch(unFollowAC(userId))\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users))\r\n//         },\r\n//         setCurrentPage(currPage) {\r\n//             dispatch(setCurrentPageAC(currPage))\r\n//         },\r\n//         setTotalUsersCount(totalCount) {\r\n//             dispatch(setTotalUsersCountAC(totalCount))\r\n//         },\r\n//         setToggleFetching(isFetching) {\r\n//             dispatch(toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n//  };\r\n\r\n"],"sourceRoot":""}