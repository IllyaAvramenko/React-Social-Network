{"version":3,"sources":["redux/dialogsReducer.js","utils/objectHelpers.js","redux/usersReducer.js","api/api.js","components/Header/Header.js","redux/authReducer.js","components/Header/HeaderContainer.js","components/Navbar/NavBar.js","components/Music/Music.js","components/Settings/Settings.js","components/Login/Login.js","redux/appReducer.js","App.js","redux/sidebarReducer.js","redux/redux-store.js","index.js","components/Navbar/navbar.module.scss","components/Login/Login.module.scss","components/Header/header.module.scss","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/common/Preloader/Preloader.js","App.module.scss","components/common/FormsControls/FormsControls.module.scss","redux/profileReducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","name","avatar","id","messages","message","sendNewMessage","newMessageBody","type","sendMessage","dispatch","a","reset","dialogsReducer","state","action","length","updateObjectInArray","items","itemId","objPropName","newObjProps","map","user","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IN_FOLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","unFollowSuccess","toggleIsFetching","toggleInFollowingProgress","folowingInProgress","requestUsers","page","currPage","userAPI","getUsers","data","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unFollow","usersReducer","followed","filter","instanse","axios","withCredentials","baseURL","headers","get","then","response","post","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","logout","Header","props","className","s","header","headerContainer","loginBlock","isAuth","btn","onClick","to","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","this","Component","connect","auth","NavItem","navItem","link","activeClassName","active","navItemWrapper","navItemIcon","children","navItemText","text","Navbar","nav","fill","height","viewBox","width","xmlns","d","stroke","opacity","Music","Settings","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","loginForm","Field","placeholder","component","Input","validate","required","checkbox","formSummaryError","stopSubmit","_error","loginPage","loginTitle","SET_INITIALIZED_SUCCESS","initialized","appReducer","DialogsContainer","React","lazy","ProfileContainer","UsersContainer","App","initializeApp","appContainer","appContent","fallback","Preloader","path","render","compose","withRouter","app","propmise","Promise","all","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","formReducer","store","createStore","applyMiddleware","thunkMiddleWare","ReactDOM","StrictMode","document","getElementById","module","exports","FormControl","input","meta","touched","hasError","formsControl","Textarea","restProps","createField","validators","value","maxLengthCreator","maxLength","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","likeCount","addPostSuccess","newPostText","setStatus","addPost","getUserProfile","file","console","log","photos","getState","reject","newPost","p","postId"],"mappings":"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","file":"static/js/main.ab924398.chunk.js","sourcesContent":["import { reset } from \"redux-form\";\r\n\r\n\r\nconst SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n   dialogs: [\r\n      {name: 'Illya', avatar: 'https://www.planetaexcel.ru/upload/main/fc3/721.jpg.png', id: 1},\r\n      {name: 'Ann', avatar: 'https://www.planetaexcel.ru/upload/main/fc3/721.jpg.png', id: 2},\r\n      {name: 'Natalia', avatar: 'https://www.planetaexcel.ru/upload/main/fc3/721.jpg.png', id: 3},\r\n      {name: 'Artem', avatar: 'https://www.planetaexcel.ru/upload/main/fc3/721.jpg.png', id: 4},\r\n      {name: 'Ruslan', avatar: 'https://www.planetaexcel.ru/upload/main/fc3/721.jpg.png', id: 5} \r\n   ],\r\n   messages: [\r\n      {message: 'Hiiii', id: 1},\r\n      {message: 'Hellllooooo', id: 2},\r\n      {message: 'Wsem Hi', id: 3}\r\n   ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n   switch(action.type) {\r\n      \r\n      case SEND_MESSAGE:\r\n         return {\r\n            ...state, \r\n            messages: [...state.messages, {message: action.newMessageBody, id: state.messages.length + 1}]\r\n         };\r\n\r\n      default:\r\n         return state;\r\n   }\r\n\r\n};\r\n\r\nexport const sendNewMessage = (newMessageBody) => {\r\n   return {type: SEND_MESSAGE, newMessageBody}\r\n};\r\n\r\nexport const sendMessage = (newMessageBody) => async (dispatch) => {\r\n      dispatch(sendNewMessage(newMessageBody));\r\n      dispatch(reset('dialogAddMessageForm'));\r\n};\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n   return items.map(user => {\r\n      if (user[objPropName] === itemId) {\r\n         return {...user, ...newObjProps}\r\n      }\r\n      return user;\r\n   })\r\n};\r\n","import { userAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/objectHelpers';\r\n\r\nconst FOLLOW = 'FOLLOW',\r\n      UNFOLLOW = 'UNFOLLOW',\r\n      SET_USERS = 'SET_USERS',\r\n      SET_CURRENT_PAGE = 'SET_CURRENT_PAGE',\r\n      SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT',\r\n      TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING',\r\n      TOGGLE_IN_FOLOWING_PROGRESS = 'TOGGLE_IN_FOLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n   users: [],\r\n   pageSize: 10,\r\n   totalUsersCount: 0,\r\n   currentPage: 1,\r\n   isFetching: false,\r\n   followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n   switch(action.type) {\r\n\r\n      case FOLLOW:\r\n         return {\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            // users: state.users.map(user => {\r\n            //    if (user.id === action.userId) {\r\n            //       return {...user, followed: true}\r\n            //    }\r\n            //    return user;\r\n            // }),\r\n         }\r\n      \r\n      case UNFOLLOW:\r\n         return {\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n         }\r\n\r\n      case SET_USERS:\r\n         return { ...state, users: [ ...action.users ] }\r\n\r\n      case SET_CURRENT_PAGE:\r\n         return { ...state, currentPage: action.currPage }\r\n\r\n      case SET_TOTAL_USERS_COUNT:\r\n         return { ...state, totalUsersCount: action.count }\r\n\r\n      case TOGGLE_IS_FETCHING:\r\n         return { ...state, isFetching: action.isFetching}\r\n\r\n      case TOGGLE_IN_FOLOWING_PROGRESS:\r\n         return {\r\n            ...state,\r\n            folowingInProgress: action.folowingInProgress \r\n               ? [...state.folowingInProgress, action.userId]\r\n               : state.followingInProgress.filter(id => id !== action.userId)\r\n         }   \r\n      default:\r\n         return state;\r\n   }\r\n\r\n};\r\n\r\nconst followSuccess = (userId) => ( { type: FOLLOW, userId} ); \r\nconst unFollowSuccess = (userId) => ( { type: UNFOLLOW, userId } );\r\nconst setUsers = (users) => ( { type: SET_USERS, users } );\r\nconst setCurrentPage = (currPage) => ( { type: SET_CURRENT_PAGE, currPage } );\r\nconst setTotalUsersCount = (totalUsersCount) => ( { type: SET_TOTAL_USERS_COUNT, count: totalUsersCount } );\r\nconst toggleIsFetching = (isFetching) => ( { type: TOGGLE_IS_FETCHING, isFetching } );\r\nconst toggleInFollowingProgress = (folowingInProgress, userId) => ( { type: TOGGLE_IS_FETCHING, folowingInProgress, userId } );\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n   dispatch(toggleIsFetching(true));\r\n   dispatch(setCurrentPage(page));\r\n\r\n   const data = await userAPI.getUsers(page, pageSize);\r\n\r\n   dispatch(toggleIsFetching(false));\r\n   dispatch(setUsers(data.items));\r\n   dispatch(setTotalUsersCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n   dispatch(toggleInFollowingProgress(true, userId));\r\n   const res = await apiMethod(userId);\r\n   if (res.data.resultCode === 0) {\r\n      dispatch(actionCreator(userId));\r\n   }\r\n   dispatch(toggleInFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n   followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess);\r\n};\r\n\r\nexport const unFollow = (userId) => async (dispatch) => {\r\n   followUnfollowFlow(dispatch, userId, userAPI.unFollow.bind(userAPI), unFollowSuccess);\r\n};\r\n\r\nexport default usersReducer;","import * as axios from 'axios';\r\n\r\nconst instanse = axios.create({\r\n   withCredentials: true,\r\n   baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n   headers: {\r\n      \"API-KEY\": \"bbe2716a-fdf3-4aa2-aa7d-154ac621832f\"\r\n   }\r\n}); \r\n\r\nexport const userAPI = {\r\n   getUsers(currentPage = 1, pageSize = 10) {\r\n      return instanse.get(`users?page=${currentPage}&count=${pageSize}`)\r\n         .then(response => response.data);\r\n   },\r\n\r\n   follow(userId) {\r\n      return instanse.post(`follow/${userId}`);\r\n   },\r\n   \r\n   unFollow(userId) {\r\n      return instanse.delete(`follow/${userId}`);\r\n   },\r\n\r\n   getProfile(userId) {\r\n      return instanse.get(`profile/${userId}`);\r\n   }\r\n};\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n   getProfile(userId) {\r\n      return instanse.get(`profile/${userId}`);\r\n   },\r\n\r\n   getStatus(userId) {\r\n      return instanse.get(`profile/status/${userId}`);\r\n   },\r\n\r\n   updateStatus(status) {\r\n      return instanse.put(`profile/status`, { status });\r\n   },\r\n\r\n   savePhoto(photoFile) {\r\n      const formData = new FormData();\r\n      formData.append('image', photoFile);\r\n\r\n      return instanse.put(`profile/photo`, formData, {\r\n         headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n         }\r\n      });\r\n   },\r\n\r\n   saveProfile(profile) {\r\n      return instanse.put(`profile`, profile);\r\n   }\r\n};\r\n\r\n\r\n\r\nexport const authAPI = {\r\n   me() {\r\n      return instanse.get(`auth/me`);\r\n   },\r\n\r\n   login(email, password, rememberMe = false) {\r\n      return instanse.post(`auth/login`, { email, password, rememberMe });\r\n   },\r\n\r\n   logout() {\r\n      return instanse.delete(`auth/login`);\r\n   }\r\n};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from  './header.module.scss';\r\n\r\nconst Header = (props) => {\r\n\r\n   return (\r\n      <header className={s.header}>\r\n         <div className={s.headerContainer}>\r\n            <h2>Own Social Network</h2>\r\n\r\n            <div className={s.loginBlock}>\r\n               { props.isAuth \r\n                  ? <div> {props.login} - <button className={s.btn} onClick={props.logout} >Log out</button></div>\r\n                  : <NavLink className={s.btn} to={'/login'} >Login</NavLink>}\r\n            </div>\r\n         </div>\r\n      </header>\r\n   )  \r\n}\r\n\r\nexport default Header;","import { stopSubmit, reset } from 'redux-form';\r\nimport { authAPI } from '../api/api';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n   userId: null,\r\n   email: null,\r\n   login: null,\r\n   isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n   \r\n   switch(action.type) {\r\n\r\n      case SET_USER_DATA:\r\n         return { ...state, ...action.payload }\r\n\r\n      default:\r\n         return state;\r\n   }\r\n\r\n};\r\n\r\nconst setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: {userId, email, login, isAuth} });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n   const response = await authAPI.me();\r\n   \r\n   if (response.data.resultCode === 0) {\r\n      const {id, login, email} = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n   };\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n   const response = await authAPI.login(email, password, rememberMe);\r\n\r\n   if (response.data.resultCode === 0) {\r\n      dispatch(getAuthUserData());\r\n      dispatch(reset('login'));\r\n   } else {\r\n      const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n      dispatch(stopSubmit('login', {_error: message}));\r\n   }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n   const response = await authAPI.logout();\r\n\r\n   if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n   }\r\n}\r\n\r\n\r\nexport default authReducer;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/authReducer';\r\n\r\nclass HeaderContainer extends Component {\r\n   render() {\r\n      return <Header {...this.props}/>\r\n   }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ \r\n   isAuth: state.auth.isAuth,\r\n   login: state.auth.login \r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './navbar.module.scss';\r\n\r\nconst Navbar = () => {\r\n   return (\r\n      <nav className={s.nav}>\r\n\r\n        <NavItem link={'/profile'} text={'My Profile'}>\r\n          <svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path clip-rule=\"evenodd\" d=\"M5.84 15.63a6.97 6.97 0 008.32 0 8.2 8.2 0 00-8.32 0zM4.7 14.57a7 7 0 1110.6 0 9.7 9.7 0 00-10.6 0zM10 1.5a8.5 8.5 0 100 17 8.5 8.5 0 000-17zm-1.5 7a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0zm1.5-3a3 3 0 100 6 3 3 0 000-6z\" fill=\"currentColor\" fill-rule=\"evenodd\"></path></svg>\r\n        </NavItem>\r\n\r\n        <NavItem link={'/dialogs'} text={'Messages'}>\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"message_outline_20__Page-2\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"message_outline_20__message_outline_20\"><path id=\"message_outline_20__Shape\" opacity=\".4\" d=\"M0 0h20v20H0z\"></path><path d=\"M6.83 15.75c.2-.23.53-.31.82-.2.81.3 1.7.45 2.6.45 3.77 0 6.75-2.7 6.75-6s-2.98-6-6.75-6S3.5 6.7 3.5 10c0 1.21.4 2.37 1.14 3.35.1.14.16.31.15.49-.04.76-.4 1.78-1.08 3.13 1.48-.11 2.5-.53 3.12-1.22zM3.24 18.5a1.2 1.2 0 01-1.1-1.77A10.77 10.77 0 003.26 14 7 7 0 012 10c0-4.17 3.68-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.68 7.5-8.25 7.5c-.92 0-1.81-.13-2.66-.4-1 .89-2.46 1.34-4.35 1.4z\" id=\"message_outline_20__Icon-Color\" fill=\"currentColor\" fill-rule=\"nonzero\"></path></g></g></svg>\r\n        </NavItem>\r\n\r\n        <NavItem link={'/users'} text={'Users'}>\r\n        <svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path clip-rule=\"evenodd\" d=\"M10 7.75a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5zM7.25 6.5a2.75 2.75 0 115.5 0 2.75 2.75 0 01-5.5 0zm-.5 7.25c0-.42.23-.83.8-1.17A4.81 4.81 0 0110 12c1.03 0 1.88.23 2.45.58.57.34.8.75.8 1.17 0 .3-.1.44-.22.54-.14.11-.4.21-.78.21h-4.5c-.39 0-.64-.1-.78-.21-.12-.1-.22-.25-.22-.54zM10 10.5c-1.22 0-2.37.27-3.23.8-.88.53-1.52 1.37-1.52 2.45 0 .7.28 1.3.78 1.71.48.39 1.1.54 1.72.54h4.5c.61 0 1.24-.15 1.72-.54.5-.4.78-1 .78-1.71 0-1.08-.64-1.92-1.52-2.45-.86-.53-2-.8-3.23-.8zm4-5.59c.06-.4.44-.7.85-.64a2.5 2.5 0 01-.35 4.98.75.75 0 010-1.5 1 1 0 00.14-1.99.75.75 0 01-.63-.85zM15.76 10a.75.75 0 000 1.5c1.16 0 1.75.67 1.75 1.25 0 .22-.07.41-.19.55-.1.12-.24.2-.46.2a.75.75 0 000 1.5c1.43 0 2.15-1.21 2.15-2.25 0-1.71-1.6-2.75-3.25-2.75zM5 10.75a.75.75 0 00-.75-.75C2.61 10 1 11.04 1 12.75 1 13.79 1.72 15 3.15 15a.75.75 0 000-1.5.57.57 0 01-.47-.2.86.86 0 01-.18-.55c0-.58.6-1.25 1.75-1.25.41 0 .75-.34.75-.75zm.14-6.47a.75.75 0 01.22 1.48 1 1 0 00.14 1.99.75.75 0 110 1.5 2.5 2.5 0 01-.36-4.97z\" fill=\"currentColor\" fill-rule=\"evenodd\"></path></svg>\r\n        </NavItem>\r\n\r\n        <NavItem link={'/music'} text={'Music'}>\r\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"music_outline_20__Icons\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"music_outline_20__Icons-20/music_outline_20\"><g id=\"music_outline_20__music_outline_20\"><path d=\"M0 0h20v20H0z\"></path><path d=\"M14.73 2.05a2.28 2.28 0 012.75 2.23v7.99c0 3.57-3.5 5.4-5.39 3.51-1.9-1.9-.06-5.38 3.52-5.38h.37V6.76L8 8.43v5.82c0 3.5-3.35 5.34-5.27 3.62l-.11-.1c-1.9-1.9-.06-5.4 3.51-5.4h.37V6.24c0-.64.05-1 .19-1.36l.05-.13c.17-.38.43-.7.76-.93.36-.26.7-.4 1.41-.54zM6.5 13.88h-.37c-2.32 0-3.34 1.94-2.45 2.82.88.89 2.82-.13 2.82-2.45v-.37zm9.48-1.98h-.37c-2.32 0-3.34 1.94-2.46 2.82.89.89 2.83-.13 2.83-2.45v-.37zm-.02-7.78a.78.78 0 00-.92-.6L9.06 4.77c-.4.09-.54.15-.68.25a.8.8 0 00-.27.33c-.08.18-.1.35-.1.88v.67l7.97-1.67v-.95-.08z\" id=\"music_outline_20__Icon-Color\" fill=\"currentColor\" fill-rule=\"nonzero\"></path></g></g></g></svg>\r\n        </NavItem>\r\n\r\n        <NavItem link={'/settings'} text={'Settings'}>\r\n          <svg fill=\"none\" height=\"20\" viewBox=\"0 0 20 20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path clip-rule=\"evenodd\" d=\"M11.76 7.7c-.28-.27-.52-.51-.7-.73a2.3 2.3 0 01-.47-.77 2.25 2.25 0 010-1.4c.1-.3.27-.54.46-.77.19-.22.45-.48.73-.76l.25-.24.24-.25c.28-.28.54-.54.76-.73.23-.19.47-.36.77-.46.46-.14.94-.14 1.4 0 .3.1.54.27.77.46.22.19.46.43.74.7l.26.28.27.26c.28.28.52.52.7.74.2.23.37.47.47.77.14.46.14.94 0 1.4-.1.3-.27.54-.46.77-.19.22-.45.48-.73.76l-.25.24-.24.25c-.28.28-.54.54-.76.73-.23.19-.47.36-.77.46-.46.14-.94.14-1.4 0a2.3 2.3 0 01-.77-.46 13.4 13.4 0 01-.74-.7l-.26-.28-.27-.26zm4.4-1.03l-.25.24-.24.25c-.3.3-.5.5-.67.64a.85.85 0 01-.27.18.75.75 0 01-.46 0A.86.86 0 0114 7.8c-.16-.14-.36-.33-.67-.64l-.24-.25-.25-.24c-.3-.3-.5-.5-.64-.67a.85.85 0 01-.18-.27.75.75 0 010-.46.85.85 0 01.18-.27c.14-.16.33-.36.64-.67l.25-.24.24-.25c.3-.3.5-.5.67-.64a.86.86 0 01.27-.18.75.75 0 01.46 0c.04.01.11.05.27.18.16.14.36.33.67.64l.24.25.25.24c.3.3.5.5.64.67.13.16.17.23.18.27.05.15.05.31 0 .46a.86.86 0 01-.18.27c-.14.16-.33.36-.64.67zM11 14.12c0-.4 0-.74.02-1.02.03-.3.08-.59.23-.87.21-.42.56-.77.98-.98.28-.15.58-.2.87-.23.28-.02.65-.02 1.05-.02h.7c.4 0 .77 0 1.05.02.3.03.59.08.87.23.42.21.77.56.98.98.15.28.2.58.23.87.02.28.02.63.02 1.02v.76c0 .4 0 .74-.02 1.02a2.25 2.25 0 01-1.2 1.86c-.3.14-.59.2-.88.22-.28.02-.65.02-1.05.02h-.7c-.4 0-.77 0-1.05-.02-.3-.03-.59-.08-.87-.23a2.25 2.25 0 01-.98-.98 2.3 2.3 0 01-.23-.87c-.02-.28-.02-.63-.02-1.02v-.38zm3.85 2.38h-.7c-.43 0-.71 0-.92-.02a.86.86 0 01-.32-.06.75.75 0 01-.33-.33.86.86 0 01-.06-.32c-.02-.2-.02-.49-.02-.92v-.7c0-.43 0-.71.02-.92.01-.2.04-.28.06-.32a.75.75 0 01.33-.33.85.85 0 01.32-.06c.2-.02.49-.02.92-.02h.7c.43 0 .71 0 .92.02.2.01.28.04.32.06.14.07.26.19.33.33.02.04.05.11.06.32.02.2.02.49.02.92v.7c0 .43 0 .71-.02.92a.86.86 0 01-.06.32.75.75 0 01-.33.33.86.86 0 01-.32.06c-.2.02-.49.02-.92.02zM2 5.12v.76c0 .4 0 .74.02 1.02a2.25 2.25 0 001.2 1.86c.3.14.59.2.88.22.28.02.65.02 1.05.02h.7c.4 0 .77 0 1.05-.02a2.25 2.25 0 001.86-1.2c.14-.3.2-.59.22-.88C9 6.62 9 6.27 9 5.88v-.76c0-.4 0-.74-.02-1.02a2.3 2.3 0 00-.23-.87 2.25 2.25 0 00-.98-.98 2.3 2.3 0 00-.87-.23C6.62 2 6.25 2 5.85 2h-.7c-.4 0-.77 0-1.05.02a2.25 2.25 0 00-1.86 1.2c-.14.3-.2.59-.22.88C2 4.38 2 4.73 2 5.12zM5.5 7.5h.35c.43 0 .71 0 .92-.02.2-.01.28-.04.32-.06a.75.75 0 00.33-.33.85.85 0 00.06-.32c.02-.2.02-.49.02-.92v-.7c0-.43 0-.71-.02-.92a.85.85 0 00-.06-.32.75.75 0 00-.33-.33.86.86 0 00-.32-.06c-.2-.02-.49-.02-.92-.02h-.7c-.43 0-.71 0-.92.02a.86.86 0 00-.32.06.75.75 0 00-.33.33.85.85 0 00-.06.32c-.02.2-.02.49-.02.92v.7c0 .43 0 .71.02.92.01.2.04.28.06.32.07.14.19.26.33.33.04.02.11.05.32.06.2.02.49.02.92.02zM2 14.12c0-.4 0-.74.02-1.02.03-.3.08-.59.23-.87.21-.42.56-.77.98-.98.28-.15.58-.2.87-.23.28-.02.65-.02 1.05-.02h.7c.4 0 .77 0 1.05.02.3.03.59.08.87.23.42.21.77.56.98.98.15.28.2.58.23.87.02.28.02.63.02 1.02v.76c0 .4 0 .74-.02 1.02a2.25 2.25 0 01-1.2 1.86c-.3.14-.59.2-.88.22-.28.02-.65.02-1.05.02h-.7c-.4 0-.77 0-1.05-.02a2.25 2.25 0 01-1.86-1.2 2.3 2.3 0 01-.22-.88C2 15.62 2 15.27 2 14.88v-.38zm3.85 2.38h-.7c-.43 0-.71 0-.92-.02a.86.86 0 01-.32-.06.75.75 0 01-.33-.33.85.85 0 01-.06-.32c-.02-.2-.02-.49-.02-.92v-.7c0-.43 0-.71.02-.92.01-.2.04-.28.06-.32a.75.75 0 01.33-.33.85.85 0 01.32-.06c.2-.02.49-.02.92-.02h.7c.43 0 .71 0 .92.02.2.01.28.04.32.06.14.07.26.19.33.33.02.04.05.11.06.32.02.2.02.49.02.92v.7c0 .43 0 .71-.02.92a.85.85 0 01-.06.32.75.75 0 01-.33.33.86.86 0 01-.32.06c-.2.02-.49.02-.92.02z\" fill=\"currentColor\" fill-rule=\"evenodd\"></path></svg>\r\n        </NavItem>\r\n        \r\n      </nav>\r\n   )\r\n}\r\n\r\nconst NavItem = (props) => {\r\n  return (\r\n    <div className={s.navItem}>\r\n      <NavLink to={props.link} activeClassName={s.active}>\r\n\r\n        <div className={s.navItemWrapper}>\r\n\r\n          <div className={s.navItemIcon}>\r\n            {props.children}\r\n          </div>\r\n\r\n          <div className={s.navItemText} >\r\n            <p>{props.text}</p>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </NavLink>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Input } from '../common/FormsControls/FormsControls';\r\nimport s from './Login.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/authReducer';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst LoginForm = ({ handleSubmit, error, }) => {\r\n\r\n    return (\r\n        <form onSubmit={ handleSubmit } className={s.loginForm}>\r\n            <div>\r\n                <Field placeholder={'Email'} name={'email'} component={Input}\r\n                    validate={ [ required ] } />\r\n            </div>\r\n            <div>\r\n                <Field type={'password'} placeholder={'Password'} name={'password'} component={Input}\r\n                    validate={ [ required ] } />\r\n            </div>\r\n            <div >\r\n                <label className={s.checkbox}>\r\n                    <Field type={'checkbox'} name={'rememberMe'} component={Input} text={'Remember me'} />\r\n                    <p>Remember me</p>\r\n                </label>\r\n            </div>\r\n\r\n            { error && <div className={s.formSummaryError}>{error}</div>}\r\n\r\n            <div>\r\n                <button className={s.btn} >Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm);\r\n\r\n\r\nconst Login = ({ isAuth, login }) => {  \r\n    const onSubmit = (formData) => {\r\n        const { email, password, rememberMe } = formData;\r\n\r\n        login(email, password, rememberMe);\r\n    };\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return (\r\n        <div className={s.loginPage}>\r\n            <div className={s.loginTitle}>\r\n                <h1>Login</h1>\r\n            </div>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED_SUCCESS = 'SET_INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n   initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n   \r\n   switch(action.type) {\r\n\r\n      case SET_INITIALIZED_SUCCESS:\r\n         return { ...state, initialized: true }\r\n\r\n      default:\r\n         return state;\r\n   }\r\n\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: SET_INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n   let propmise = dispatch(getAuthUserData());\r\n\r\n   Promise.all([propmise])\r\n      .then(\r\n         dispatch(initializedSuccess())\r\n      );\r\n}\r\n\r\nexport default appReducer;","import React, { Component, Suspense } from 'react';\nimport s from './App.module.scss';\nimport { connect } from 'react-redux';\nimport {Route} from \"react-router-dom\";\nimport { withRouter } from 'react-router';\nimport { compose } from 'redux';\nimport HeaderContainer from './components/Header/HeaderContainer';\n// import ProfileContainer from './components/Profile/ProfileContainer';\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\n// import UsersContainer from './components/Users/UsersContainer';\nimport Navbar from './components/Navbar/NavBar';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport Login from './components/Login/Login';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { initializeApp } from './redux/appReducer';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n     }\n\n    render() {\n        \n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <>\n                <HeaderContainer/>\n                <div className={s.appContainer}>\n                    <Navbar/>\n                    <div className={s.appContent}>\n                        <Suspense fallback={<Preloader/>}>\n                            <Route path='/dialogs' render={() => <DialogsContainer />}/>\n                            <Route path='/profile/:userId?' render={() => <ProfileContainer /> } />\n                            <Route path='/users' render={() => <UsersContainer />}/>\n                            <Route path='/login' render={() => <Login />}/>\n                            <Route path='/music' component={Music}/>\n                            <Route path='/settings' component={Settings}/>\n                        </Suspense>\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, { initializeApp })\n)(App);","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n   return state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './authReducer';\r\nimport appReducer from './appReducer';\r\n\r\n\r\nconst reducers = combineReducers({\r\n   profilePage: profileReducer,\r\n   dialogsPage: dialogsReducer,\r\n   sidebar: sidebarReducer,\r\n   usersPage: usersReducer,\r\n   auth: authReducer,\r\n   form: formReducer,\r\n   app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport {HashRouter as Router} from \"react-router-dom\";\nimport store from './redux/redux-store';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Router>\n        <Provider store={store}>\n          <App />\n        </Provider>\n      </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__2Kra0\",\"navItem\":\"navbar_navItem__2G0I5\",\"navItemWrapper\":\"navbar_navItemWrapper__1fp-d\",\"navItemIcon\":\"navbar_navItemIcon__3y9Sb\",\"navItemText\":\"navbar_navItemText__2AEY1\",\"active\":\"navbar_active__1IM_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSummaryError\":\"Login_formSummaryError__3To8_\",\"btn\":\"Login_btn__20HqJ\",\"loginPage\":\"Login_loginPage__3XKtx\",\"loginTitle\":\"Login_loginTitle__2LXJ1\",\"loginForm\":\"Login_loginForm__ZLGzi\",\"checkbox\":\"Login_checkbox__2_nGp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__13FZ0\",\"headerContainer\":\"header_headerContainer__3RlOg\",\"loginBlock\":\"header_loginBlock__T7gj8\",\"btn\":\"header_btn__3yhHg\"};","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport s from './FormsControls.module.scss';\r\n\r\nconst FormControl = ({ input, meta: {touched, error}, children }) => {\r\n   const hasError = touched && error;\r\n   return (\r\n      <div className={`${s.formsControl} ${hasError ? s.error : ''}`}>\r\n         <div>\r\n            {children}\r\n         </div>\r\n         { hasError && <span>{error}</span> }\r\n      </div>\r\n   )\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n   const { input, meta, ...restProps } = props;\r\n   return <FormControl {...props} > <textarea {...input} {...restProps}></textarea> </FormControl>\r\n};\r\n\r\n\r\n\r\nexport const Input = (props) => {\r\n   const { input, meta, ...restProps } = props;\r\n   return <FormControl {...props} > <input {...input} {...restProps}/> </FormControl>\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '', ) => (\r\n   <div>\r\n      <Field placeholder={placeholder} name={name}\r\n             validate={validators}\r\n             component={component}\r\n             {...props} />\r\n   </div>\r\n)","export const required = value => {\r\n   if (value) {\r\n      return undefined;\r\n   }\r\n\r\n   return 'Field is required';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n   if (value && value.length > maxLength) {\r\n      return `Max length is ${maxLength} symbols`;\r\n   }\r\n\r\n   return undefined;\r\n};","import React from 'react';\r\nimport './Preloader.css';\r\n\r\nconst Preloader = () => {\r\n   return (\r\n      <div className=\"loadingio-spinner-rolling-vwo7mpmvoza\"><div className=\"ldio-ve802hqup4\">\r\n      <div></div>\r\n      </div></div>\r\n   )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appContainer\":\"App_appContainer__1dyhW\",\"appContent\":\"App_appContent__3Adk5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formsControl\":\"FormsControls_formsControl__2gG8R\",\"error\":\"FormsControls_error__2tacN\"};","import { reset, stopSubmit } from 'redux-form';\r\nimport { profileAPI } from '../api/api';\r\n\r\nconst ADD_POST = 'ADD-POST',\r\n      DELETE_POST = 'DELETE_POST',\r\n      SET_USER_PROFILE = 'SET_USER_PROFILE',\r\n      SET_STATUS = 'SET_STATUS',\r\n      SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n   posts: [\r\n      {id: 1, name: 'Alfred', message: 'Hi, it is my first post', likeCount: 15},\r\n      {id: 2, name: 'Zigmund', message: 'Hello', likeCount: 12},\r\n      {id: 3, name: 'Leibnits', message: 'Blalala', likeCount: 42},\r\n      {id: 4, name: 'Steven', message: 'Dada', likeCount: 182}\r\n   ],\r\n   profile: null,\r\n   status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n   switch(action.type) {\r\n\r\n      case ADD_POST:\r\n         const newPost = {\r\n            id: state.posts.length + 1,\r\n            message: action.newPostText,\r\n            likeCount: 0\r\n         };\r\n         return { ...state, posts: [...state.posts, newPost] };\r\n\r\n      case DELETE_POST:\r\n         return { ...state, posts: [...state.posts.filter(p => p.id !== action.postId)] };\r\n      \r\n      case SET_USER_PROFILE:\r\n         return { ...state, profile: action.profile }\r\n      \r\n      case SET_STATUS:\r\n         return { ...state, status: action.status }\r\n         \r\n      case SAVE_PHOTO_SUCCESS:\r\n         return { ...state, profile: {...state.profile, photos: action.photos} }\r\n\r\n      default:\r\n         return state;\r\n   }\r\n\r\n};\r\n\r\nconst addPostSuccess = (newPostText) => ( { type: ADD_POST, newPostText } );\r\nexport const deletePost = (postId) => ( { type: DELETE_POST, postId } );\r\nconst setUserProfile = (profile) => ( {type: SET_USER_PROFILE, profile} );\r\nconst setStatus = (status) => ( {type: SET_STATUS, status} );\r\nconst savePhotoSuccess = (photos) => ( {type: SAVE_PHOTO_SUCCESS, photos} );\r\n\r\nexport const addPost = (newPostText) => async (dispatch) => {\r\n   dispatch(addPostSuccess(newPostText));\r\n   dispatch(reset('ProfileAddNewPostForm'));\r\n};\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n   const response = await profileAPI.getProfile(userId);\r\n\r\n   dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n   const response = await profileAPI.getStatus(userId);\r\n   \r\n   dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n   const response = await profileAPI.updateStatus(status);\r\n\r\n   if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n   }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n   const response = await profileAPI.savePhoto(file);\r\n\r\n   if (response.data.resultCode === 0) {\r\n      console.log(response.data);\r\n      dispatch(savePhotoSuccess(response.data.data.photos));\r\n   }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n   const userId = getState().auth.userId;\r\n   const response = await profileAPI.saveProfile(profile);\r\n\r\n   if (response.data.resultCode === 0) {\r\n      console.log(response.data);\r\n      dispatch(getUserProfile(userId));\r\n   } else {\r\n      dispatch(stopSubmit('editProfile', {_error: response.data.messages[0]}));\r\n      return Promise.reject(response.data.messages[0]);\r\n   }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}