{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/images/userPhoto.png","components/Profile/Profile.module.scss","components/Profile/MyPosts/Post/Post.module.scss","components/Profile/MyPosts/MyPosts.module.scss","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.scss","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.module.scss","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusHooks.js","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Post","props","message","likeCount","className","s","post","postInfo","avatar","src","alt","postName","postContent","postContentMessage","MyPosts","React","memo","postsElements","posts","map","id","postsBlock","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","maxLength10","maxLengthCreator","reduxForm","form","handleSubmit","postsForm","Field","name","component","Textarea","placeholder","validate","required","btn","MyPostsContainer","connect","state","profilePage","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","profileStatus","onDoubleClick","profileStatusInput","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileDataFormRedux","profile","error","onClick","console","log","formSummaryError","createField","Input","type","lookingForAJobDescription","aboutMe","keys","contacts","key","contact","ProfileData","isOwner","goToEditMode","profileData","mainInfo","fullName","otherInfo","lookingForAJob","contactTitle","contactValue","Contact","ProfileInfo","savePhoto","saveProfile","Preloader","profileInfo","avatarBlock","userAvatar","photos","large","userPhoto","target","files","descriptionBlock","initialValues","formData","then","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","refreshProfile","prevProps","Component","compose","isAuth","auth","withRouter"],"mappings":"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","file":"static/js/3.d2fb512e.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default __webpack_public_path__ + \"static/media/userPhoto.419fc313.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__15QJQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__nktXe\",\"postInfo\":\"Post_postInfo__2P1oG\",\"avatar\":\"Post_avatar__rNzZr\",\"postName\":\"Post_postName__2MEqb\",\"postContent\":\"Post_postContent__1IFHd\",\"postContentMessage\":\"Post_postContentMessage__2-RTd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2NSwa\",\"postsForm\":\"MyPosts_postsForm__3bgoz\",\"postsBlock\":\"MyPosts_postsBlock__35NNZ\",\"btn\":\"MyPosts_btn__3SX5q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__1z77d\",\"avatarBlock\":\"ProfileInfo_avatarBlock__1W1s7\",\"userAvatar\":\"ProfileInfo_userAvatar__3K2q2\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3Nmyc\",\"contact\":\"ProfileInfo_contact__3vHwZ\",\"profileData\":\"ProfileInfo_profileData__2Yajc\",\"btn\":\"ProfileInfo_btn__2Ft3a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileStatus\":\"ProfileStatus_profileStatus__18RlD\",\"profileStatusInput\":\"ProfileStatus_profileStatusInput__1FbYD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSummaryError\":\"ProfileDataForm_formSummaryError__1AUH7\",\"btn\":\"ProfileDataForm_btn__2T7TK\"};","import React from 'react';\r\nimport s from './Post.module.scss';\r\n\r\nconst Post = (props) => {\r\n   const {message, likeCount} = props;\r\n   return (\r\n      <div className={s.post}>\r\n\r\n         <div className={s.postInfo}>\r\n            <div className={s.avatar}>\r\n               <img src=\"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg\" alt=\"photop\" />\r\n            </div>\r\n            <div className={s.postName}>\r\n            </div>\r\n         </div>\r\n\r\n         <div className={s.postContent}>\r\n            <div className={s.postContentMessage}>\r\n               <p>{message}</p>\r\n            </div>\r\n            <div>\r\n               <span>Likes: {likeCount}</span>\r\n            </div>\r\n         </div>\r\n\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport s from './MyPosts.module.scss';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator } from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\n\r\nconst MyPosts = React.memo((props) => {\r\n   const postsElements = props.posts.map(post => <Post key={post.id} message={post.message} likeCount={post.likeCount}/>)\r\n\r\n   const addNewPost = (values) => {\r\n      props.addPost(values.newPostText);\r\n   };\r\n\r\n   return (\r\n\r\n      <div className={s.postsBlock}>\r\n         <h3>My Posts</h3>\r\n\r\n         <AddNewPostFormRedux onSubmit={ addNewPost } />\r\n\r\n         <div className={s.posts}>\r\n            {postsElements}\r\n         </div>\r\n      </div>\r\n   )\r\n});\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst AddNewPostForm = (props) => {\r\n\r\n   return (\r\n      <form  onSubmit={props.handleSubmit} className={s.postsForm} >\r\n         <div>\r\n            <Field name={'newPostText'} component={Textarea}\r\n                  placeholder={'Post message'}\r\n                  validate={ [required, maxLength10] } />\r\n         </div>\r\n         <div>\r\n            <button className={s.btn}>App Post</button>\r\n         </div>\r\n      </form>\r\n   )\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: 'ProfileAddNewPostForm' })(AddNewPostForm);\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPost } from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nconst mapStateToProps = (state) => {\r\n   return {\r\n      posts: state.profilePage.posts\r\n   }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, { addPost })(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React, { useEffect, useState } from 'react';\r\nimport s from './ProfileStatus.module.scss';\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n\r\n   const [editMode, setEditMode] = useState(false);\r\n   const [status, setStatus] = useState(props.status);\r\n\r\n   useEffect( () => {\r\n      setStatus(props.status);\r\n   }, [props.status] )\r\n   \r\n   const activateEditMode = () => {\r\n      setEditMode(true);\r\n   };\r\n\r\n   const deactivateEditMode = () => {\r\n      setEditMode(false)\r\n      props.updateStatus(status);\r\n   };\r\n\r\n   const onStatusChange = (e) => {\r\n      setStatus(e.currentTarget.value);\r\n   };\r\n\r\n   return (\r\n      <>\r\n         {!editMode &&\r\n            <div className={s.profileStatus}>   \r\n               <span onDoubleClick={ activateEditMode } >{props.status || '-----'}</span>\r\n            </div>\r\n         }\r\n         {editMode &&\r\n         <div className={s.profileStatusInput}>\r\n            <input onChange={ onStatusChange } autoFocus={true} onBlur={ deactivateEditMode } value={status} />\r\n         </div>\r\n         }\r\n      </>\r\n   )\r\n}\r\n\r\nexport default ProfileStatusHooks;","import s from './ProfileDataForm.module.scss';\r\nimport {createField, Input, Textarea} from '../../../common/FormsControls/FormsControls';\r\nimport { reduxForm } from \"redux-form\";\r\n\r\nconst ProfileDataForm = ({profile, handleSubmit, error}) => {\r\n   return (\r\n      <form onSubmit={ handleSubmit }>\r\n         <div onClick={ console.log(1) } ><button className={s.btn}>Save</button></div>\r\n\r\n         { error && <div className={s.formSummaryError}>{error}</div>}\r\n\r\n         <div>\r\n            <b>FullName:</b> {createField('Full name', 'fullName', [], Input)}\r\n         </div>\r\n\r\n         <div>\r\n            <b>Looking for a job:</b> {createField(null, 'lookingForAJob', [], Input, {type: 'checkbox'})}\r\n         </div>\r\n\r\n         <div>\r\n            <b>My professional skills</b> {profile.lookingForAJobDescription}\r\n            {createField('My professional skills', 'lookingForAJobDescription', [], Textarea)}\r\n         </div> \r\n\r\n         <div>\r\n            <b>About me: </b> {profile.aboutMe}\r\n            {createField('About me', 'aboutMe', [], Textarea)}\r\n         </div>\r\n\r\n         <div>\r\n            <b>Contacts: </b> { Object.keys(profile.contacts).map(key => {\r\n               return <div key={key} className={s.contact}>\r\n                  <b>{key}:</b> {createField(key, `contacts.${key}`, [], Input)}\r\n               </div>\r\n            })}\r\n         </div>\r\n      </form>\r\n   )\r\n};\r\n\r\nconst ProfileDataFormRedux = reduxForm({form: 'editProfile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataFormRedux;","import React, { useState } from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.scss';\r\nimport ProfileStatusHooks from './ProfileStatus/ProfileStatusHooks';\r\nimport userPhoto from '../../../assets/images/userPhoto.png';\r\nimport ProfileDataFormRedux from './ProfileDataForm/ProfileDataForm';\r\n\r\nconst ProfileInfo = ({ profile, isOwner, updateStatus, savePhoto, saveProfile, ...props }) => {\r\n\r\n   let [editMode, setEditMode] = useState(false);\r\n\r\n   if (!profile) {\r\n      return <Preloader />\r\n   }\r\n\r\n   const mainPhotoSelected = (e) => {\r\n      if (e.target.files.length) {\r\n         savePhoto(e.target.files[0]);\r\n      }\r\n   };\r\n\r\n   const onSubmit = (formData) => {\r\n      saveProfile(formData).then( () => {\r\n         setEditMode(false);\r\n      });\r\n   };\r\n\r\n   return (\r\n      <div className={s.profileInfo}>\r\n         \r\n         <div className={s.avatarBlock}>\r\n            <div className={s.userAvatar}>\r\n               <img src={profile.photos.large || userPhoto} alt=\"large\" />\r\n               { isOwner && <input placeholder={'Заменить иображение'} type={'file'} onChange={ mainPhotoSelected } /> }\r\n            </div>\r\n         </div>\r\n\r\n         <div className={s.descriptionBlock}>\r\n\r\n               {editMode \r\n               ? <ProfileDataFormRedux initialValues={profile} onSubmit={onSubmit} profile={profile} /> \r\n               : <ProfileData status={props.status} updateStatus={updateStatus} profile={profile} isOwner={isOwner} goToEditMode={() => setEditMode(true)}/>}\r\n   \r\n         </div>\r\n\r\n      </div>\r\n   )\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode, updateStatus, status}) => {\r\n   return (\r\n      <div className={s.profileData}>\r\n\r\n         <div className={s.mainInfo}>\r\n            <div>\r\n               <h2>{profile.fullName}</h2> \r\n            </div>\r\n\r\n            <ProfileStatusHooks status={status} updateStatus={updateStatus} />\r\n         </div>\r\n\r\n         <div className={s.otherInfo}>\r\n            {isOwner && <div><button className={s.btn} onClick={ goToEditMode } >Edit Profile Information</button></div>}\r\n            <div>\r\n               <b>Looking for a job:</b> {profile.lookingForAJob ? 'Yes' : 'No'}\r\n            </div>\r\n\r\n            { profile.lookingForAJob && \r\n               <div>\r\n                  <b>My professional skills</b> {profile.lookingForAJobDescription}\r\n               </div> }\r\n\r\n            <div>\r\n               <b>About me: </b> {profile.aboutMe}\r\n            </div>\r\n\r\n            <div>\r\n               <b>Contacts: </b> { Object.keys(profile.contacts).map(key => <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>)}\r\n            </div>\r\n         </div>\r\n      </div>\r\n   )\r\n};\r\n\r\nexport const Contact = ({contactTitle, contactValue}) => {\r\n   return <div className={s.contact}><b>{contactTitle}:</b> {contactValue} </div>\r\n};\r\n\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Profile.module.scss';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n   \r\n   return (\r\n      <div className={s.profile}>\r\n\r\n         <ProfileInfo isOwner={props.isOwner} \r\n                     profile={props.profile} \r\n                     status={props.status} \r\n                     updateStatus={props.updateStatus} \r\n                     savePhoto={props.savePhoto}\r\n                     saveProfile={props.saveProfile} />\r\n\r\n         <MyPostsContainer />\r\n\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from '../../redux/profileReducer';\r\nimport { withRouter } from 'react-router';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends Component {\r\n\r\n   refreshProfile() {\r\n      let userId = this.props.match.params.userId;\r\n      if (!userId) {\r\n         userId = this.props.authorizedUserId;\r\n         \r\n         if (!userId) {\r\n            this.props.history.push('/login');\r\n         }\r\n      }\r\n      this.props.getUserProfile(userId);\r\n      this.props.getStatus(userId);\r\n   }\r\n\r\n   componentDidMount() {\r\n      this.refreshProfile();\r\n   }\r\n\r\n   componentDidUpdate(prevProps) {\r\n      if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n         this.refreshProfile()\r\n      }\r\n   }\r\n\r\n   render() {\r\n\r\n      return (\r\n         <Profile isOwner={!this.props.match.params.userId} \r\n                  savePhoto={this.props.savePhoto}\r\n                  saveProfile={saveProfile}\r\n                  {...this.props}  />\r\n      )\r\n   }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n   const { profile, status } = state.profilePage;\r\n\r\n   return {\r\n      profile,\r\n      status,\r\n      isAuth: state.auth.isAuth,\r\n      authorizedUserId: state.auth.userId\r\n   }\r\n};\r\n\r\n\r\nexport default compose(\r\n   connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile }),\r\n   withRouter,\r\n)\r\n(ProfileContainer);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n// const withURLDataContainerComponent = withRouter(AuthRedirectComponent);\r\n// export default connect(mapStateToProps, { getUserProfile })(withURLDataContainerComponent);"],"sourceRoot":""}