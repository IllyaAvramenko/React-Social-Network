(this["webpackJsonpreact-way-of-samurai"]=this["webpackJsonpreact-way-of-samurai"]||[]).push([[3],{294:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var o=s(94);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],o=!0,a=!1,r=void 0;try{for(var n,c=t[Symbol.iterator]();!(o=(n=c.next()).done)&&(s.push(n.value),!e||s.length!==e);o=!0);}catch(i){a=!0,r=i}finally{try{o||null==c.return||c.return()}finally{if(a)throw r}}return s}}(t,e)||Object(o.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},296:function(t,e,s){"use strict";e.a=s.p+"static/media/userPhoto.419fc313.png"},298:function(t,e,s){t.exports={profile:"Profile_profile__15QJQ"}},299:function(t,e,s){t.exports={post:"Post_post__nktXe",postInfo:"Post_postInfo__2P1oG",avatar:"Post_avatar__rNzZr",postName:"Post_postName__2MEqb",postContent:"Post_postContent__1IFHd",postContentMessage:"Post_postContentMessage__2-RTd"}},300:function(t,e,s){t.exports={posts:"MyPosts_posts__2NSwa",postsForm:"MyPosts_postsForm__3bgoz",postsBlock:"MyPosts_postsBlock__35NNZ",btn:"MyPosts_btn__3SX5q"}},301:function(t,e,s){t.exports={profileInfo:"ProfileInfo_profileInfo__1z77d",avatarBlock:"ProfileInfo_avatarBlock__1W1s7",userAvatar:"ProfileInfo_userAvatar__3K2q2",descriptionBlock:"ProfileInfo_descriptionBlock__3Nmyc",contact:"ProfileInfo_contact__3vHwZ",profileData:"ProfileInfo_profileData__2Yajc",btn:"ProfileInfo_btn__2Ft3a"}},302:function(t,e,s){t.exports={profileStatus:"ProfileStatus_profileStatus__18RlD",profileStatusInput:"ProfileStatus_profileStatusInput__1FbYD"}},303:function(t,e,s){t.exports={formSummaryError:"ProfileDataForm_formSummaryError__1AUH7",btn:"ProfileDataForm_btn__2T7TK"}},307:function(t,e,s){"use strict";s.r(e);var o=s(3),a=s(49),r=s(50),n=s(52),c=s(51),i=s(0),l=s.n(i),u=s(298),j=s.n(u),b=s(18),d=s(93),f=s(299),p=s.n(f),h=s(1),O=function(t){var e=t.message,s=t.likeCount;return Object(h.jsxs)("div",{className:p.a.post,children:[Object(h.jsxs)("div",{className:p.a.postInfo,children:[Object(h.jsx)("div",{className:p.a.avatar,children:Object(h.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg",alt:"photop"})}),Object(h.jsx)("div",{className:p.a.postName})]}),Object(h.jsxs)("div",{className:p.a.postContent,children:[Object(h.jsx)("div",{className:p.a.postContentMessage,children:Object(h.jsx)("p",{children:e})}),Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:["Likes: ",s]})})]})]})},m=s(300),v=s.n(m),x=s(86),_=s(125),P=s(69),g=s(53),k=l.a.memo((function(t){var e=t.posts.map((function(t){return Object(h.jsx)(O,{message:t.message,likeCount:t.likeCount},t.id)}));return Object(h.jsxs)("div",{className:v.a.postsBlock,children:[Object(h.jsx)("h3",{children:"My Posts"}),Object(h.jsx)(N,{onSubmit:function(e){t.addPost(e.newPostText)}}),Object(h.jsx)("div",{className:v.a.posts,children:e})]})})),y=Object(P.a)(10),N=Object(_.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(h.jsxs)("form",{onSubmit:t.handleSubmit,className:v.a.postsForm,children:[Object(h.jsx)("div",{children:Object(h.jsx)(x.a,{name:"newPostText",component:g.b,placeholder:"Post message",validate:[P.b,y]})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:v.a.btn,children:"App Post"})})]})})),S=k,I=Object(b.b)((function(t){return{posts:t.profilePage.posts}}),{addPost:d.a})(S),w=s(294),A=s(85),F=s(84),M=s(301),C=s.n(M),D=s(302),T=s.n(D),B=function(t){var e=Object(i.useState)(!1),s=Object(w.a)(e,2),o=s[0],a=s[1],r=Object(i.useState)(t.status),n=Object(w.a)(r,2),c=n[0],l=n[1];Object(i.useEffect)((function(){l(t.status)}),[t.status]);return Object(h.jsxs)(h.Fragment,{children:[!o&&Object(h.jsx)("div",{className:T.a.profileStatus,children:Object(h.jsx)("span",{onDoubleClick:function(){a(!0)},children:t.status||"-----"})}),o&&Object(h.jsx)("div",{className:T.a.profileStatusInput,children:Object(h.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),t.updateStatus(c)},value:c})})]})},E=s(296),J=s(303),U=s.n(J),z=Object(_.a)({form:"editProfile"})((function(t){var e=t.profile,s=t.handleSubmit,o=t.error;return Object(h.jsxs)("form",{onSubmit:s,children:[Object(h.jsx)("div",{onClick:console.log(1),children:Object(h.jsx)("button",{className:U.a.btn,children:"Save"})}),o&&Object(h.jsx)("div",{className:U.a.formSummaryError,children:o}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"FullName:"})," ",Object(g.c)("Full name","fullName",[],g.a)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Looking for a job:"})," ",Object(g.c)(null,"lookingForAJob",[],g.a,{type:"checkbox"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"My professional skills"})," ",e.lookingForAJobDescription,Object(g.c)("My professional skills","lookingForAJobDescription",[],g.b)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"About me: "})," ",e.aboutMe,Object(g.c)("About me","aboutMe",[],g.b)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts: "})," ",Object.keys(e.contacts).map((function(t){return Object(h.jsxs)("div",{className:U.a.contact,children:[Object(h.jsxs)("b",{children:[t,":"]})," ",Object(g.c)(t,"contacts.".concat(t),[],g.a)]},t)}))]})]})})),q=["profile","isOwner","updateStatus","savePhoto","saveProfile"],H=function(t){var e=t.profile,s=t.isOwner,o=t.goToEditMode,a=t.updateStatus,r=t.status;return Object(h.jsxs)("div",{className:C.a.profileData,children:[Object(h.jsxs)("div",{className:C.a.mainInfo,children:[Object(h.jsx)("div",{children:Object(h.jsx)("h2",{children:e.fullName})}),Object(h.jsx)(B,{status:r,updateStatus:a})]}),Object(h.jsxs)("div",{className:C.a.otherInfo,children:[s&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:C.a.btn,onClick:o,children:"Edit Profile Information"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"Yes":"No"]}),e.lookingForAJob&&Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"My professional skills"})," ",e.lookingForAJobDescription]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"About me: "})," ",e.aboutMe]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts: "})," ",Object.keys(e.contacts).map((function(t){return Object(h.jsx)(L,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})]})},L=function(t){var e=t.contactTitle,s=t.contactValue;return Object(h.jsxs)("div",{className:C.a.contact,children:[Object(h.jsxs)("b",{children:[e,":"]})," ",s," "]})},V=function(t){var e=t.profile,s=t.isOwner,o=t.updateStatus,a=t.savePhoto,r=t.saveProfile,n=Object(A.a)(t,q),c=Object(i.useState)(!1),l=Object(w.a)(c,2),u=l[0],j=l[1];if(!e)return Object(h.jsx)(F.a,{});return Object(h.jsxs)("div",{className:C.a.profileInfo,children:[Object(h.jsx)("div",{className:C.a.avatarBlock,children:Object(h.jsxs)("div",{className:C.a.userAvatar,children:[Object(h.jsx)("img",{src:e.photos.large||E.a,alt:"large"}),s&&Object(h.jsx)("input",{placeholder:"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",type:"file",onChange:function(t){t.target.files.length&&a(t.target.files[0])}})]})}),Object(h.jsx)("div",{className:C.a.descriptionBlock,children:u?Object(h.jsx)(z,{initialValues:e,onSubmit:function(t){r(t).then((function(){j(!1)}))},profile:e}):Object(h.jsx)(H,{status:n.status,updateStatus:o,profile:e,isOwner:s,goToEditMode:function(){return j(!0)}})})]})},Y=function(t){return Object(h.jsxs)("div",{className:j.a.profile,children:[Object(h.jsx)(V,{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),Object(h.jsx)(I,{})]})},Z=s(9),K=s(10),Q=function(t){Object(n.a)(s,t);var e=Object(c.a)(s);function s(){return Object(a.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(Y,Object(o.a)({isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:d.f},this.props))}}]),s}(i.Component);e.default=Object(K.d)(Object(b.b)((function(t){var e=t.profilePage;return{profile:e.profile,status:e.status,isAuth:t.auth.isAuth,authorizedUserId:t.auth.userId}}),{getUserProfile:d.d,getStatus:d.c,updateStatus:d.g,savePhoto:d.e,saveProfile:d.f}),Z.f)(Q)}}]);
//# sourceMappingURL=3.d2fb512e.chunk.js.map